generator client {
  provider = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["public"]
}

model User {
  id            String        @id @default(uuid())
  email         String        @unique
  password_hash String
  created_at    DateTime      @default(now()) @map("created_at")
  updated_at    DateTime      @updatedAt @map("updated_at")
  assignments   Assignment[]
  notes         Note[]

  @@map("users")
}

model Assignment {
  id          String   @id @default(uuid())
  title       String
  description String?
  deadline    DateTime
  status      String   @default("pending")
  created_at  DateTime @default(now()) @map("created_at")
  updated_at  DateTime @updatedAt @map("updated_at")
  userId      String   @map("user_id")
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("assignments")
}

model Note {
  id          String   @id @default(uuid())
  title       String
  content     String
  link        String?
  tag         String?
  created_at  DateTime @default(now()) @map("created_at")
  updated_at  DateTime @updatedAt @map("updated_at")
  userId      String   @map("user_id")
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("notes")
}